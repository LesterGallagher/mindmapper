!function(e){function t(t){for(var a,i,s=t[0],c=t[1],l=t[2],u=0,p=[];u<s.length;u++)i=s[u],o[i]&&p.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(d&&d(t);p.length;)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={2:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/bundle/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;r.push([161,0]),n()}({122:function(e,t){},124:function(e,t){},129:function(e,t,n){"use strict";var a=n(3),o=n(33),r=n(128),i=n(127),s=n(90);console.log(r),a("#export-modal form").on("submit",function(e){e.preventDefault();var t=a("#mainh").val(),n=a("#field").get(0),c=new FormData(e.target);console.log(c);var l="on"===c.get("includeBackground");switch(console.log(l),c.get("format")){case"html":a("#field input, #field textarea").each(function(e){this.setAttribute("value",a(this).val())});var d=document.implementation.createHTMLDocument(t);a(d.body).append(a(n).clone(!1));var u=new i,p=(a(n).css("background-image")||"").replace(/url\(["']?/,"").replace(/["']?\);?/,""),m=p&&l?fetch(p).then(function(e){return e.blob()}):Promise.resolve(),h=r.replace("/bundle/",""),g=fetch(r).then(function(e){return e.blob()});Promise.all([fetch(a("#mmwindow-style").attr("href")),fetch(a("#mmelem-style").attr("href")),fetch("bundle/vendor.bundle.css"),fetch("bundle/main.bundle.css")].map(function(e){return e.then(function(e){return e.text()})})).then(function(e){var n=a(d).find("head").get(0);e.forEach(function(e){n.appendChild(d.createElement("style")).textContent=e.replace(r,h)}),m.then(function(e){if(p&&l){var n="background."+e.type.replace("image/","");u.file(n,e),d.body.style.backgroundImage='url("'+n+'")'}g.then(function(e){u.file(h,e);var n=(new XMLSerializer).serializeToString(d);u.file("index.html",n),u.generateAsync({type:"blob"}).then(function(e){o(e,t+".zip")})})})});break;default:var f=void 0;l||(f=n.getAttribute("style"),n.setAttribute("style","background-image: none; background-color: transparent")),s.toBlob(n).then(function(e){o(e,t+".png"),l||n.setAttribute("style",f)}).catch(function(e){l||n.setAttribute("style",f),console.error(e),alert("Error: ",e)})}return!1})},130:function(e,t,n){"use strict";t.rgb2hex=function(e){if(/^#[0-9A-F]{6}$/i.test(e))return e;function t(e){return("0"+parseInt(e).toString(16)).slice(-2)}return"#"+t((e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))[1])+t(e[2])+t(e[3])}},131:function(e,t,n){"use strict";var a=n(3),o=n(130).rgb2hex,r=n(32),i=a("#background-color-modal"),s=a("#field").get(0),c=r.constructor.getDB();function l(){var e=o(a(s).css("background-color")),t=localStorage.getItem("bg-color-v1");a("#backgroundColorInput").val(t||e),t&&(s.style.backgroundColor=t),c.get("bg-image-v1").then(function(e){if(e){var t=window.URL.createObjectURL(e);s.style.backgroundSize=s.style.backgroundSize||"initial",s.style.backgroundImage="url("+t+")"}}),void 0!==localStorage.getItem("bg-repeat-v1")&&(s.style.backgroundRepeat=localStorage.getItem("bg-repeat-v1")?"repeat":"no-repeat",a("#backgroundRepeatInput").get(0).checked=JSON.parse(localStorage.getItem("bg-repeat-v1")),a("#backgroundImageRemoveButton").show()),void 0!==localStorage.getItem("bg-size-v1")&&(s.style.backgroundSize=localStorage.getItem("bg-size-v1"),a("#backgroundSizeSelect").val(localStorage.getItem("bg-size-v1")))}l(),i.find(".form").on("submit",function(e){return e.preventDefault()}),a("#backgroundRepeatInput").on("change",function(e){s.style.backgroundRepeat=e.target.checked?"repeat":"no-repeat",localStorage.setItem("bg-repeat-v1",e.target.checked)}),a("#backgroundSizeSelect").on("change",function(e){s.style.backgroundSize=e.target.value,localStorage.setItem("bg-size-v1",e.target.value)}),a("#backgroundImageRemoveButton").on("click",function(e){s.style.backgroundImage=null,c.delete("bg-image-v1"),a("#backgroundImageRemoveButton").hide()}),a("#backgroundImage").on("change",function(e){s.style.backgroundSize=s.style.backgroundSize||"initial",s.style.backgroundImage="url("+window.URL.createObjectURL(e.target.files[0])+")",c.set("bg-image-v1",e.target.files[0]),a("#backgroundImageRemoveButton").show()}),a("#backgroundColorInput").on("input",function(e){s.style.backgroundColor=e.target.value,localStorage.setItem("bg-color-v1",e.target.value)}),a("#backgroundResetButton").on("click",function(e){s.style.backgroundImage=null,s.style.backgroundColor=null,s.style.backgroundSize=null,s.style.backgroundRepeat=null,localStorage.removeItem("bg-color-v1"),localStorage.removeItem("bg-size-v1"),localStorage.removeItem("bg-repeat-v1"),c.delete("bg-image-v1"),l()})},134:function(e,t){},158:function(e,t,n){"use strict";var a=n(3),o=a("#choose-color-theme"),r=a("#choose-color-theme-options"),i=a("#mmelem-style"),s=a("#mmwindow-style"),c=window.localStorage&&window.localStorage.theme||"dark",l={dark:"#30303b",indian:"#E09f3e",light:"#8aa29e",matriks:"#00ff00",monokai:"#a6e22e",raster:"#c2fcf7",russian:"#420039",space:"#55c1cf"},d=function(){r.empty();var e=1;for(var t in l)if(l.hasOwnProperty(t)&&t!==c){var n=l[t];r.append('\n                <button class="option" data-color="'+n+'" data-name="'+t+'"\n                    style="left: '+60*e+++"px; background-color: "+n+'"></button>\n            ')}r.css("width",60*e),o.css("background-color",l[c])};d(),r.on("click","button.option",function(e){console.log(e.target),u(a(e.target).attr("data-name"))});var u=t.setColorTheme=function(e){c=e,d(),i.attr("href","styles/mmelemsstyle-"+c+".css"),s.attr("href","styles/mmwindow-"+c+".css"),window.localStorage&&(localStorage.theme=e)}},159:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o=(n(16),a("#node-image-select")),r=null,i=null,s=null,c=function(){i=null,s=null,r=null};a("#node-image-select-preview").attr("src",a(void 0).attr("src")),a("#node-image-select form").on("submit",function(e){return e.preventDefault(),console.log(i),r&&a(r).find("img").attr("src",i),!1}),a("#nodeImage").on("change.imagemodal",function(e){s=e.target.files[0],i=window.URL.createObjectURL(s),a("#node-image-select-preview").attr("src",i)}),o.on("hidden.bs.modal",function(){c()});t.open=function(e){r&&c(),r=e,o.modal().show(),a("#node-image-select-preview").attr("src",a(e).find("img").attr("src"))}},16:function(e,t,n){"use strict";var a=function(e,t){for(var n,a={},o=(e=(e||window.location.href).split("?")[1]||"").split("&"),r=0;r<o.length;r++)n=o[r].split("="),(!t||n[0]&&n[1])&&(a[decodeURIComponent(n[0])]=decodeURIComponent(n[1]));return a}(null,!0),o=a.room,r=a.ispublic,i=a.name,s=a.id;e.exports={apiUrl:"https://api.esstudio.site/api/mindviewer-web",room:o,ispublic:r,name:i,id:s}},160:function(e,t,n){},161:function(e,t,n){"use strict";n(82);var a=n(3);window.jQuery=a,n(81),n(160),n(18);var o=n(17),r=(n(39),n(38),n(158),n(80)),i=(n(78),n(16));n(131),n(129),n(89),window.onbeforeunload=function(){if("false"===i.ispublic){if(!o.getSaved())return"You have unsaved progress. Are you sure you want to go back to the homepage?"}else r.saveToJsonOnline()},a("#btn-back-home").on("click",function(){window.location.href=window.location.origin+"/index.html"}),console.log(i.ispublic),"true"!==!i.ispublic&&a("#spawn_elem_btn3").show()},17:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(18),r=n(3),i=n(26).EventEmitter,s=t.globalelems=[],c=t.globallines=[],l=n(18).throttle,d=n(159),u=t.elementType={LARGE:0,MIDDLE:1,SMALL:2,IMAGE:3},p=!0;t.getSaved=function(){return p},t.setSaved=function(){return p=!0};var m=window.globalelemnsHashed=t.globalelemnsHashed={},h=window.globallinesHashed=t.globallinesHashed={},g=!1;r(window).on("mousedown",function(){return g=!0}),r(window).on("mouseup",function(){return g=!1});var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=r("#field"),a=function(e){var t=e.target.value,n=r(e.target).parent(".mmelem").attr("data-key");b("elem_modified",{key:n,content:t})};n.on("input",".mmelem textarea",a),n.on("input",".mmelem input",a);var o=function(e){var t=r(e.target).outerWidth(),n=r(e.target).outerHeight(),a=s.map(function(e){return e[0]}).indexOf(r(e.target).closest(".mmelem")[0]),o=r(e.target).attr("data-key");b("elem_modified",{key:o,width:t,height:n}),s[a].UpdateAllConnectedLines()};return r(window).on("mousemove",function(e){g&&r(e.target).is(".mmelem textarea")&&o(e)}),n.on("mouseup",".mmelem textarea",o),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),t}(),v=t.field=new f,b=l(function(e,t){return v.emit(e,t)},40);function w(){window.currdrag.diddrag=!1;var e=window.currdrag.line;r(e).remove(),window.currdrag=void 0}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=void 0;switch(e){case 0:i='\n            <div class="mmelem mmmain">\n            <input class="mm_title" type="text" name="title" value="new title">\n            <button class="mmclose" type="button"></button>            \n            </div>';break;case 1:i='\n            <div class="mmelem mmheader">\n            <input class="mm_title" type="text" name="title" value="new title">\n            <button class="mmclose" type="button"></button>            \n            </div>';break;case 2:i='\n            <div class="mmelem mmnote">\n            <textarea name="textarea" style:"width:100px;height:60px;" class="mmcontent"></textarea>\n            <button class="mmclose" type="button"></button>            \n            </div>';break;case 3:i='<div class="mmelem mmimage">\n            <img alt="Mindmapper media node" src="https://via.placeholder.com/150">\n            <button class="mmclose" type="button"></button>            \n            </div>';break;default:i='\n            <div class="mmelem mmheader">\n            <input class="mm_title" type="text" name="title" value="new title">\n            <button class="mmclose" type="button"></button>            \n            </div>'}var l=document.getElementById("field");l.insertAdjacentHTML("beforeend",i);var f=l.lastChild,v=r(f);f.jqeurydata=v,r(v).attr("data-key",t),r(v).find("textarea").on("click",function(e){return e.stopPropagation()}),s.push(v),m[t]=v,f.childNodes.forEach(function(e){e.onmousedown=function(e){g=!0,e.stopPropagation()},r(e).is("textarea")&&(e.onwheel=function(){return!1})},this),r(v).css("top",80+Math.floor(20*Math.random())+"px"),r(v).css("left",80+Math.floor(20*Math.random())+"px"),v.mmdata={name:"newelem",connected_elems:[],containsElem:function(e){for(var t=0;t<v.mmdata.connected_elems.length;t++)if(v.mmdata.connected_elems[t].elem==e)return!0;return!1}},v.mousedown(function(e){if(e.stopPropagation(),window.activeElem=v,void 0!==window.currdrag){if(window.currdrag,window.currdrag==v)return console.log("dragged a line to itself"),r(window).mouseup(),void w();if(window.currdrag.mmdata.containsElem(v)||v.mmdata.containsElem(window.currdrag))return console.log("already dragged a line between these nodes"),r(window).mouseup(),void w();var t=window.currdrag.line;t.setAttribute("class","genline");var n=o.GetMiddleOfElement(v);t.setAttribute("d",M(t,"x2",n.x,0,0)),t.setAttribute("d",M(t,"y2",n.y,0,0)),t.connected_elems={elem1:v,elem2:window.currdrag},window.currdrag.mmdata.connected_elems.push({elem:v,line:t}),v.mmdata.connected_elems.push({elem:window.currdrag,line:window.currdrag.line}),window.currdrag.mmdata.connected_elems.forEach(function(e){window.currdrag.UpdateConnectedLines(e)}),v.mmdata.connected_elems.forEach(function(e){v.UpdateConnectedLines(e)}),c.push(t);var a=Math.random().toString(36);return r(t).attr("data-key",a),h[a]=t,b("line_created",{strokewidth:r(t).css("strokeWidth"),strokecolor:r(t).css("strokeColor"),key1:r(v).attr("data-key"),key2:r(window.currdrag).attr("data-key"),key:a}),void(window.currdrag=void 0)}var i=v.css("left").replace("px","")-e.pageX,s=v.css("top").replace("px","")-e.pageY;v.diddrag=!1,r(document).on("mousemove.elem-move",function(t){var n=t.pageX+i,a=t.pageY+s;v.css("top",a),v.css("left",n),v.mmdata.connected_elems.forEach(function(e){v.UpdateConnectedLines(e)});var o=r(v).attr("data-key");b("elem_modified",{leftpos:n,toppos:a,key:o}),(Math.abs(e.pageX-t.pageX)>5||Math.abs(e.pageY-t.pageY)>5)&&(v.diddrag=!0)})}),v.UpdateAllConnectedLines=function(){v.mmdata.connected_elems.forEach(function(e){v.UpdateConnectedLines(e)})},v.UpdateConnectedLines=function(e){var t=e.line,n=e.line.connected_elems.elem1,a=e.line.connected_elems.elem2;if(n===v){var o=k(n,e.elem),r=_(n,e.elem,400);t.setAttribute("d",M(t,"x2",o.x,r.x,r.y)),t.setAttribute("d",M(t,"y2",o.y,r.x,r.y)),o=k(e.elem,n),r=_(e.elem,n,400),t.setAttribute("d",M(t,"x1",o.x,r.x,r.y)),t.setAttribute("d",M(t,"y1",o.y,r.x,r.y))}else{if(a!==v)throw Error("element contains a line which doesnt hold a reference to that line.");var i=k(a,e.elem),s=_(a,e.elem,400);t.setAttribute("d",M(t,"x1",i.x,s.x,s.y)),t.setAttribute("d",M(t,"y1",i.y,s.x,s.y)),i=k(e.elem,a),s=_(e.elem,a,400),t.setAttribute("d",M(t,"x2",i.x,s.x,s.y)),t.setAttribute("d",M(t,"y2",i.y,s.x,s.y))}},v.click(function(e){if(e.stopPropagation(),0==v.diddrag){var t=o.GetMiddleOfElement(v),n=r("#svg_wrapper"),a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d","M282,143 C151,140 395,421 271,415"),a.setAttribute("d",M(a,"x1",t.x,0,0)),a.setAttribute("d",M(a,"y1",t.y,0,0)),a.setAttribute("d",M(a,"x2",t.x,0,0)),a.setAttribute("d",M(a,"y2",t.y,0,0)),a.setAttribute("class","pregenline"),a.ChangeWidth=function(e){var t=e.wheelDelta;t/=Math.abs(t);var n=parseInt(r(a).css("stroke-width").replace("px",""),10);n>=10&&t>0?t=0:n<=2&&t<0&&(t=0),r(a).css("stroke-width",n+t+"px")},r(a).mouseenter(function(){}),r(a).mouseleave(function(){}),r(a).click(function(){I(a,!0)}),r(a).mouseover(function(){window.activeElem=a}),n.append(a),v.line=a,window.currdrag=v,r(document).on("mousemove.elem-move",function(e){var t=e.pageX+l.scrollLeft,n=e.pageY+l.scrollTop;a.setAttribute("d",M(a,"x2",t,0,0)),a.setAttribute("d",M(a,"y2",n,0,0)),v.diddrag=!0})}}),r(v).on("click","img",function(e){d.open(r(v).get(0))}),v.RemoveThis=function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];v.mmdata.connected_elems.length>0;)I(v.mmdata.connected_elems[v.mmdata.connected_elems.length-1].line);s.splice(s.indexOf(v),1);var t=r(v).attr("data-key");delete m[t],r(v).remove(),e&&b("elem_removed",{key:t})},r(v).children(".mmclose").click(function(){v.RemoveThis(!0)}),v.ChangeSize=function(t){var n,a=parseFloat(r(v).outerWidth()),o=parseFloat(r(v).outerHeight());switch(t=t/Math.abs(t)*8,e){case u.LARGE:(n=parseFloat(r(v).children(".mm_title").css("font-size").replace("em","")))<10&&t<0?t=0:n>200&&t>0&&(t=0),r(v).children(".mm_title").css("font-size",n+t/4);break;case u.IMAGE:var i=r(v).find("img");i.attr("width",i.width()*(1+t/40));break;case u.MIDDLE:(n=parseFloat(r(v).children(".mm_title").css("font-size").replace("em","")))<10&&t<0?t=0:n>140&&t>0&&(t=0),r(v).children(".mm_title").css("font-size",n+t/4);break;case u.SMALL:var c=r(v).children("textarea").css("width"),l=r(v).children("textarea").css("height");(n=parseFloat(r(v).children("textarea").css("font-size").replace("em","")))<10&&t<0?t=0:n>80&&t>0&&(t=0),r(v).children("textarea").css("font-size",n+t/4),r(v).children("textarea").css("width",c),r(v).children("textarea").css("height",l);break;default:var d=parseInt(r(v).css("width").replace("px",""),10),p=parseInt(r(v).css("height").replace("px",""),10);r(v).css("width",d+t+"px"),r(v).css("height",p+t+"px")}var m=+r(v).css("left").replace("px",""),h=+r(v).css("top").replace("px",""),g=(a-parseFloat(r(v).outerWidth()))/2,f=(o-parseFloat(r(v).outerHeight()))/2;r(v).css("left",m+g+"px"),r(v).css("top",h+f+"px"),v.UpdateAllConnectedLines();s.map(function(e){return e[0]}).indexOf(v[0]);var w=r(v).attr("data-key");b("elem_modified",{key:w,"font-size":n,leftpos:m+g,toppos:h+f})},v.onElemScroll=function(e){v.ChangeSize(e.wheelDelta)},r(v).mouseenter(function(){window.addEventListener("mousewheel",v.onElemScroll)}),r(v).mouseleave(function(){window.removeEventListener("mousewheel",v.onElemScroll,!1)}),v.UpdateMMdata=function(e){e.mmdata.connected_elems.push({elem:window.currdrag,line:window.currdrag.line})};var y,x=+r(v).css("left").replace("px",""),S=+r(v).css("top").replace("px","");n&&b("elem_created",(a(y={key:t,leftpos:x,toppos:S,type:e},"key",t),a(y,"content",v.find("input, textarea").val()),y));return p=!1,{elem:v,updatemmdata:v.UpdateMMdata}}function k(e,t){var n=o.GetLeftMiddle(e),a=o.GetRightMidle(e),r=o.GetLeftMiddle(t),i=o.GetRightMidle(t);return n.x>i.x?n:a.x<r.x?a:o.GetMiddleOfElement(e)}function _(e,t,n){var a=o.GetMiddleOfElement(e),r=o.GetLeftMiddle(e),i=o.GetRightMidle(e),s=o.GetMiddleOfElement(t),c=o.GetLeftMiddle(t),l=o.GetRightMidle(t);return r.x>l.x?{x:-(x(r,l)<n?x(r,l):n)/3,y:0}:i.x<c.x?{x:(x(i,c)<n?x(i,c):n)/3,y:0}:r.y<c.y?{x:0,y:(x(a,s)<n?x(a,s):n)/3}:{x:0,y:-(x(s,a)<n?x(s,a):n)/3}}function x(e,t){return Math.sqrt(Math.pow(Math.abs(parseInt(e.x)-parseInt(t.x,10)),2)+Math.pow(Math.abs(parseInt(e.y)-parseInt(t.y,10)),2))}function M(e,t,n,a,o){var r,i=e.getAttribute("d").split(/\s+/);if("x1"==t){var s=i[0].split(/,\s?/);s[0]=parseInt(s[0].replace(/[MC]/i,""),10),s[1]=parseInt(s[1],10),i[0]="M"+n+","+s[1],i[1]="C"+(n+a)+","+(s[1]+o),r=i.join(" ")}else if("y1"==t){var c=i[0].split(/,\s?/);c[0]=parseInt(c[0].replace(/[MC]/i,""),10),c[1]=parseInt(c[1],10),i[0]="M"+c[0]+","+n,i[1]="C"+(c[0]+a)+","+(n+o),r=i.join(" ")}else if("x2"==t){var l=i[3].split(/,\s?/);l[0]=parseInt(l[0],10),l[1]=parseInt(l[1],10),i[3]=n+","+l[1],i[2]=n+a+","+(l[1]+o),r=i.join(" ")}else if("y2"==t){var d=i[3].split(/,\s?/);d[0]=parseInt(d[0],10),d[1]=parseInt(d[1],10),i[3]=d[0]+","+n,i[2]=d[0]+a+","+(n+o),r=i.join(" ")}return r}function I(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=e.connected_elems||void 0!=e.connected_elems){for(var n=e.connected_elems.elem1.mmdata.connected_elems,a=0;a<n.length;a++)if(n[a].line===e){n.splice(a,1);break}for(var o=e.connected_elems.elem2.mmdata.connected_elems,i=0;i<o.length;i++)if(o[i].line===e){o.splice(i,1);break}}c.splice(c.indexOf(e),1),delete h[r(e).attr("data-key")],r(e).remove(),console.log("remove line",e),t&&b("line_removed",{key:r(e).attr("data-key")}),p=!1}t.RemoveAll=function(){for(var e in c.length=0,s.length=0,m)m.hasOwnProperty(e)&&delete m[e];for(var t in h)h.hasOwnProperty(t)&&delete h[t];r("svg").empty(),r("#field").children(".mmelem").remove(),p=!1},t.CreateElement=function(e){var t=e.type,n=e.leftpos,a=e.toppos,o=e.fontsize,i=e.backgroundcolor,s=e.content,c=(e.boxshadowcol,e.width),l=e.height,d=y(t,e.key).elem;return r(d).css("left",n),r(d).css("top",a),r(d).children("textarea").css("font-size",o),r(d).children("textarea").css("width",c),r(d).children("textarea").css("height",l),r(d).children("textarea").val(s),r(d).children("textarea").on("click",function(e){return e.stopPropagation()}),r(d).children("input").on("click",function(e){return e.stopPropagation()}),r(d).children("input").css("font-size",o),r(d).children("input").val(s),r(d).find("img").attr("width",(c||"").replace("px","")),r(d).find("img").attr("src",s),void 0!==i&&r(d).css("background-color",i),p=!1,d},t.CreateLine=function(e,t,n,a,i){var s=n,l=o.GetMiddleOfElement(s),d=r("#svg_wrapper"),u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d","M282,143 C151,140 395,421 271,415"),u.setAttribute("d",M(u,"x1",l.x,0,0)),u.setAttribute("d",M(u,"y1",l.y,0,0)),u.setAttribute("d",M(u,"x2",l.x,0,0)),u.setAttribute("d",M(u,"y2",l.y,0,0)),u.setAttribute("class","genline"),u.ChangeWidth=function(e){var t=e.wheelDelta;t/=Math.abs(t);var n=+(r(u)[0].style["stroke-width"]||"3").replace("px","");n>=10&&t>0?t=0:n<=2&&t<0&&(t=0),r(u).css("stroke-width",n+t+"px")},r(u).mouseenter(function(){}),r(u).mouseleave(function(){}),r(u).click(function(){I(u,!0)}),r(u).mouseover(function(){window.activeElem=u}),d.append(u),s=a;var m=o.GetMiddleOfElement(s);u.setAttribute("d",M(u,"x2",m.x,0,0)),u.setAttribute("d",M(u,"y2",m.y,0,0)),u.connected_elems={elem1:n,elem2:a},n.mmdata.connected_elems.push({elem:a,line:u}),a.mmdata.connected_elems.push({elem:n,line:u}),n.mmdata.connected_elems.forEach(function(e){n.UpdateConnectedLines(e)}),a.mmdata.connected_elems.forEach(function(e){a.UpdateConnectedLines(e)}),c.push(u),r(u).attr("data-key",i),h[i]=u,e&&r(u).css("stroke-width",e),t&&r(u).css("stroke-color","rgb( "+t.join()+")"),p=!1},r(document).ready(function(){y(0,Math.random().toString(36)),r(document).click(function(){r("#color-picker").css("display","none")}),r(document).mouseup(function(){void 0!==window.currdrag&&w(),r(document).unbind("mousemove.elem-move")}),r("#spawn_elem_btn0").click(function(){var e=Math.random().toString(36);y(u.LARGE,e,!0)}),r("#spawn_elem_btn1").click(function(){var e=Math.random().toString(36);y(u.MIDDLE,e,!0)}),r("#spawn_elem_btn2").click(function(){var e=Math.random().toString(36);y(u.SMALL,e,!0)}),r("#spawn_elem_btn3").click(function(){var e=Math.random().toString(36);y(u.IMAGE,e,!0)}),r("#color-picker").click(function(e){e.stopPropagation()});var e=document.getElementById("color-picker");e.GetColor=function(e){return o.GetColor(r(e).css("background-color").toString())},e.GetColorHex=function(t){var n=e.GetColor(t);return o.rgbToHex(n)},e.AssignColorSlider=function(t){if(window.activeElem){var n=255,a=255,i=255;if(0==t.trim().startsWith("#"))n=parseInt(r("#color-picker").children("#red").val(),10),a=parseInt(r("#color-picker").children("#green").val(),10),i=parseInt(r("#color-picker").children("#blue").val(),10),r("#color-picker").children("#hex").val(o.rgbToHex([n,a,i]));else{if(1!=/^#([\da-z]{6})$/i.test(t.trim()))throw Error("the function is unclear about this argument: "+t);var s=t.trim().match(/^#([\da-z]{6})$/i)[1];n=parseInt(s.slice(0,2),16),a=parseInt(s.slice(2,4),16),i=parseInt(s.slice(4,6),16),r("#color-picker").children("#red").val(n),r("#color-picker").children("#green").val(a),r("#color-picker").children("#blue").val(i)}if("none"!=r(window.activeElem).css("box-shadow")){var c=r(window.activeElem).css("box-shadow");if(!window.activeElem.shadowOffset){var l=e.GetColor(window.activeElem),d=o.GetColor(c),u=[d[0]-l[0],d[1]-l[1],d[2]-l[2]];window.activeElem.shadowOffset=u}d=[n+(u=window.activeElem.shadowOffset)[0],a+u[1],i+u[2]],r(window.activeElem).css("box-shadow",c.replace(/\(.+\)/,"("+d.join()+")"))}r(window.activeElem).css("background-color","rgb("+[n,a,i].join()+")")}},e.childNodes.forEach(function(t){t.oninput=function(){window.activeElem&&e.AssignColorSlider(r(t).val())}})}),t.removeLine=function(e){I(h[e])}},18:function(e,t,n){"use strict";var a=n(3);t.ContainsItem=function(e,t){for(var n=0;n<e.length;n++){if(e[n]===t)return!0;for(var a in e[n])if(e[n].hasOwnProperty(a))return!0}return!1},t.GetMiddleOfElement=function(e){var t=a(e).outerWidth(),n=a(e).outerHeight(),o=a(e).get(0).offsetLeft,r=a(e).get(0).offsetTop;return{x:parseInt(o+t/2),y:parseInt(r+n/2)}},t.GetLeftMiddle=function(e){a(e).outerWidth();var t=a(e).outerHeight(),n=a(e).get(0).offsetLeft,o=a(e).get(0).offsetTop;return{x:parseInt(n),y:parseInt(o+t/2)}},t.GetRightMidle=function(e){var t=a(e).outerWidth(),n=a(e).outerHeight(),o=a(e).get(0).offsetLeft,r=a(e).get(0).offsetTop;return{x:parseInt(o+t),y:parseInt(r+n/2)}},t.GetColor=function(e){var t=e.toString().match(/\((.+)\)/)[1];return[parseInt(t.split(",")[0].trim()),parseInt(t.split(",")[1].trim()),parseInt(t.split(",")[2].trim())]},t.rgbToHex=function(e){if("number"!=typeof e[0])throw Error("input of rgbToHex function must be an array of integers");return"#"+(e[0].toString(16)+e[1].toString(16)+e[2].toString(16)).toUpperCase()},t.GetColorOrUndefined=function(e){return e?(void 0).GetColor(e):void 0},t.debounce=function(e,t,n){var a;return function(){var o=this,r=arguments,i=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||e.apply(o,r)},t),i&&e.apply(o,r)}},t.throttle=function(e,t,n){var a;return function(){var o=this,r=arguments,i=n&&!a;a||(a=setTimeout(function(){a=null,n||e.apply(o,r)},t)),i&&e.apply(o,r)}}},38:function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var o=n(18),r=n(3),i=n(17),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.typeToClass={mmmain:i.elementType.LARGE,mmheader:i.elementType.MIDDLE,mmnote:i.elementType.SMALL,mmimage:i.elementType.IMAGE},window.StateSave=this}return a(e,[{key:"compileState",value:function(e){var t=r(document.getElementById("mainh")).val(),n=i.globalelems,a=i.globallines,s=[],c=[];console.log(n),console.log(a);for(var l=0;l<n.length;l++)n[l].save_id=l;for(var d=0;d<a.length;d++)a[d].save_id=d;for(var u=0;u<n.length;u++){for(var p=n[u].mmdata.connected_elems,m=[],h=0;h<p.length;h++)if(void 0!==p[h].elem.save_id&&void 0!==p[h].line.save_id){var g={lineid:parseInt(p[h].line.save_id).toString(),elemid:parseInt(p[h].elem.save_id).toString()};m.push(g)}else console.error("one of the connected elements is null or undefined"+p[h].elem);var f,v=n[u].attr("class").trim().split(/\s+/)[1],b=this.typeToClass[v];f=b===i.elementType.IMAGE?{id:n[u].save_id,key:r(n[u]).attr("data-key"),type:b,leftpos:r(n[u]).css("left"),toppos:r(n[u]).css("top"),connected_elems:m,width:r(n[u]).find("img").width()+"px",content:r(n[u]).find("img").attr("src")}:{id:n[u].save_id,key:r(n[u]).attr("data-key"),type:b,leftpos:r(n[u]).css("left"),toppos:r(n[u]).css("top"),connected_elems:m,"font-size":r(n[u]).children(2==this.typeToClass[v]?"textarea":"input").css("font-size"),width:r(n[u]).children("textarea").css("width"),height:r(n[u]).children("textarea").css("height"),content:r(n[u]).children(2==this.typeToClass[v]?"textarea":"input").val()},s.push(f)}for(var w=0;w<a.length;w++){var y={id:a[w].save_id.toString(),key:r(n[w]).attr("data-key"),"stroke-width":r(a[w]).css("stroke-width"),"stroke-color":o.GetColorOrUndefined(r(a[w]).css("stroke-color")),elem1:a[w].connected_elems.elem1.save_id,elem2:a[w].connected_elems.elem2.save_id};c.push(y)}return{static:{name:t,id:e,timestamp:Date.now()},elems:s,lines:c}}}]),e}();e.exports=new s},39:function(e,t,n){"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var o=n(3),r=n(17),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return a(e,[{key:"readData",value:function(e){r.RemoveAll(),document.getElementById("mainh").value=e.static.name;for(var t=e.elems,n=e.lines,a=[],i=0;i<t.length;i++){var s=r.CreateElement(t[i]);a[t[i].id]=s}for(var c=0;c<n.length;c++){var l=a[n[c].elem1],d=a[n[c].elem2];r.CreateLine(n[c]["stroke-width"],n[c]["stroke-color"],l,d,n[c].key)}o("#mainh").val(e.static.name)}}]),e}();e.exports=new i},78:function(e,t,n){"use strict";var a=n(3),o=n(157),r=n(16),i=n(39),s=n(38),c=n(80),l=n(17),d=l.field,u=l.globalelemnsHashed,p=(l.globallinesHashed,l.CreateElement),m=l.CreateLine,h=l.removeLine,g=n(18),f=(g.debounce,g.throttle),v=a("#messages"),b=Math.random().toString(36),w=r.apiUrl+"/no-persist-open-chat",y=!0;t.gotHotData=!1,t.socketReadyPromise=new Promise(function(e,t){if("false"===r.ispublic)return e();var n=o.connect(w,{"connect timeout":5e3});n.on("connect",function(){n.emit("init",{room:r.room,nickname:b},function(t){if(!t)return console.error("Unable to connect");n.emit("msg",{type:"retrieve-mm"}),setTimeout(function(){return y=!1},4e3);var o=[],r=f(function(){0!==o.length&&(o.length>1?n.emit("msg",{type:"batched_updates",batched:o}):n.emit("msg",o[0]),o.splice(0,o.length))},40),i=function(e){o.push(e),r()};n.on("msg",function(e){"batched_updates"===e.type?e.batched.forEach(function(t){t.from=e.from,k(t,i)}):k(e,i)}),n.on("disconnected",function(e){console.log("disconnect",e),e.msg="User disconnected from the room.",S(e),a(x[e.from]).remove(),delete x[e.from]}),_(i),e()}),n.on("disconnect",function(){console.warn(" socket disconnect")})}),n.on("connect_error",function(){alert("connection failed")})});var k=function(e,n){if("chat"===e.type)S(e);else if("update"===e.type)I(e);else if("retrieve-mm"===e.type){if(!1===c.percistanceLoaded)return;n({type:"receive-mm",state:s.compileState(c.dataId)})}else if("receive-mm"===e.type){if(!y)return;y=!1;var a=e.state;i.readData(a),t.gotHotData=!0}},_=function(e){a("#mainh").on("input",function(t){e({type:"update",action:"staticupdate",patch:{name:t.target.value}})}),d.on("elem_modified",function(t){e({type:"update",action:"elem_modified",patch:t})}),d.on("elem_created",function(t){e({type:"update",action:"elem_created",patch:t})}),d.on("elem_removed",function(t){e({type:"update",action:"elem_removed",patch:t})}),d.on("line_created",function(t){e({type:"update",action:"line_created",patch:t})}),d.on("line_removed",function(t){e({type:"update",action:"line_removed",patch:t})}),a(document).on("mousemove",f(function(t){e({type:"update",action:"mouse",clientX:t.clientX,clientY:t.clientY})},40,!1))},x={},M=a("#mouses"),I=function(e){var t=e.patch;if("mouse"===e.action&&(x[e.from]||(console.log("disconnect",e),e.msg="User joined the room.",S(e),a(x[e.from]).remove(),delete x[e.from],x[e.from]=a('<div class="mouse-pos"></div>').appendTo(M)),x[e.from].css("top",e.clientY).css("left",e.clientX)),"elem_removed"===e.action){var n=t.key;u[n].RemoveThis()}else if("elem_modified"===e.action){var o=t.key;void 0!==t.content&&(console.log(u[o].get(0)),console.log(u[o].find("input, textarea")),u[o].find("input, textarea").val(t.content)),void 0!==t["font-size"]&&u[o].find("input, textarea").css("font-size",t["font-size"]),void 0!==t.leftpos&&(u[o].css("left",t.leftpos),u[o].UpdateAllConnectedLines()),void 0!==t.toppos&&(u[o].css("top",t.toppos),u[o].UpdateAllConnectedLines()),void 0!==t.width&&(u[o].find("textarea").outerWidth(t.width),u[o].UpdateAllConnectedLines()),void 0!==t.height&&(u[o].find("textarea").outerHeight(t.height),u[o].UpdateAllConnectedLines())}else"elem_created"===e.action?(p(t),console.log("created",e)):"line_created"===e.action?m(t.strokewidth,t.strokecolor,u[t.key1],u[t.key2],t.key):"line_removed"===e.action?h(t.key):"staticupdate"===e.action&&void 0!==t.name&&a("#mainh").val(t.name)};function S(e){var t=e.from,n=e.msg,a=(v.scrollTop(),v.innerHeight(),v[0].scrollHeight);a=v.scrollTop()+v.height();v.append('<div class="message other">    <div class="msg">'+n+'</div>    <div class="from">'+t+"</div>    </div>"),a>-1&&v.scrollTop(v[0].scrollHeight)}},80:function(e,t,n){"use strict";var a=n(3),o=n(79)(),r=n(38),i=n(16),s=n(39),c=n(78),l=(n(33),n(17)),d=n(32),u=new Date,p=a("#save-last"),m=a("#save-mm"),h=a("#save-to-storage");t.percistanceLoaded=!1;var g=function(){p.text(o.format(u))};setInterval(g,5e3),"false"===i.ispublic?(t.dataId=i.id||Math.random().toString(36),i.id?(d.getMindmaps().then(function(e){var t=e[i.id];t?s.readData(t):a("#fullscreen-loader").fadeOut()}),a("#fullscreen-loader").fadeOut()):(document.getElementById("mainh").value=i.name,a("#fullscreen-loader").fadeOut()),m.add(h).on("click",function(){var e=r.compileState(t.dataId);e.type="app_storage",d.putMindmap(e).then(function(){l.setSaved(),u=new Date,g(),i.id||(window.location.href=window.location.origin+"/mindmapper.html?ispublic=false&id="+t.dataId)})})):(a.get("https://api.myjson.com/bins/"+i.room,function(e,n,o){!1===c.gotHotData&&s.readData(e),t.percistanceLoaded=!0,t.dataId=e.static.id,c.socketReadyPromise.then(function(){a("#fullscreen-loader").fadeOut()})}),m.add(h).on("click",function(){f()}));var f=t.saveToJsonOnline=function(){d.putMindmap({type:"api_bin",room:i.room,static:{id:t.dataId,name:a("#mainh").val(),timestamp:Date.now()}}),a.ajax({type:"PUT",url:"https://api.myjson.com/bins/"+i.room,data:JSON.stringify(r.compileState(t.dataId)),async:!1,contentType:"application/json; charset=utf-8",dataType:"json",error:function(e,t,n){alert("unable to save mind map")},success:function(e,t,n){u=new Date,g(),l.setSaved()}})}},87:function(e,t,n){},88:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}n(87),e.exports=function(e,t,n,r,i,s){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"medium",l="";return"small"!==(c=c.toLowerCase())&&"large"!==c&&(c="medium"),e.length&&(e=Object.assign.apply(Object,[{}].concat(o(e.map(function(e){return a({},e,!0)}))))),t=encodeURIComponent(t),i=encodeURIComponent(new window.URL(i,r).href),(e=Object.assign.apply(Object,[{}].concat(o(Object.keys(e).map(function(e){return a({},e.toLowerCase(),!0)}))))).facebook&&(l+='\n        <a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u='+i+"&picture="+s+"&name="+t+"&caption="+n+'" target="_blank"\n          aria-label="">\n          <span class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--'+c+'"><span\n              aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">\n              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                <path d="M12 0C5.38 0 0 5.38 0 12s5.38 12 12 12 12-5.38 12-12S18.62 0 12 0zm3.6 11.5h-2.1v7h-3v-7h-2v-2h2V8.34c0-1.1.35-2.82 2.65-2.82h2.35v2.3h-1.4c-.25 0-.6.13-.6.66V9.5h2.34l-.24 2z" /></svg>\n            </span>\n            <span>Facebook</span></span>\n        </a>'),e.twitter&&(l+='\n        <a class="resp-sharing-button__link" target="_blank" href="https://twitter.com/intent/tweet/?text='+t+"%0D%0A"+n+"&url="+i+"&image="+s+'"\n          target="_blank" aria-label="">\n          <span class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--'+c+'"><span\n              aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">\n              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                <path d="M12 0C5.38 0 0 5.38 0 12s5.38 12 12 12 12-5.38 12-12S18.62 0 12 0zm5.26 9.38v.34c0 3.48-2.64 7.5-7.48 7.5-1.48 0-2.87-.44-4.03-1.2 1.37.17 2.77-.2 3.9-1.08-1.16-.02-2.13-.78-2.46-1.83.38.1.8.07 1.17-.03-1.2-.24-2.1-1.3-2.1-2.58v-.05c.35.2.75.32 1.18.33-.7-.47-1.17-1.28-1.17-2.2 0-.47.13-.92.36-1.3C7.94 8.85 9.88 9.9 12.06 10c-.04-.2-.06-.4-.06-.6 0-1.46 1.18-2.63 2.63-2.63.76 0 1.44.3 1.92.82.6-.12 1.95-.27 1.95-.27-.35.53-.72 1.66-1.24 2.04z" /></svg>\n            </span>\n            <span>Twitter</span></span>\n        </a>'),e.google&&(l+='\n        <a class="resp-sharing-button__link" href="https://plus.google.com/share?url='+i+"&image="+s+'" target="_blank"\n          aria-label="">\n          <span class="resp-sharing-button resp-sharing-button--google resp-sharing-button--'+c+'"><span\n              aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">\n              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                <path d="M12.65 8.6c-.02-.66-.3-1.3-.8-1.8S10.67 6 9.98 6c-.63 0-1.2.25-1.64.68-.45.44-.68 1.05-.66 1.7.02.68.3 1.32.8 1.8.96.97 2.6 1.04 3.5.14.45-.45.7-1.05.67-1.7zm-2.5 5.63c-2.14 0-3.96.95-3.96 2.1 0 1.12 1.8 2.08 3.94 2.08s3.98-.93 3.98-2.06c0-1.14-1.82-2.1-3.98-2.1z" />\n                <path d="M12 0C5.38 0 0 5.38 0 12s5.38 12 12 12 12-5.38 12-12S18.62 0 12 0zm-1.84 19.4c-2.8 0-4.97-1.35-4.97-3.08s2.15-3.1 4.94-3.1c.84 0 1.6.14 2.28.36-.57-.4-1.25-.86-1.3-1.7-.26.06-.52.1-.8.1-.95 0-1.87-.38-2.57-1.08-.67-.68-1.06-1.55-1.1-2.48-.02-.94.32-1.8.96-2.45.65-.63 1.5-.93 2.4-.92V5h3.95v1h-1.53l.12.1c.67.67 1.06 1.55 1.1 2.48.02.93-.32 1.8-.97 2.45-.16.15-.33.3-.5.4-.2.6.05.8.83 1.33.9.6 2.1 1.42 2.1 3.56 0 1.73-2.17 3.1-4.96 3.1zM20 10h-2v2h-1v-2h-2V9h2V7h1v2h2v1z" /></svg>\n            </span>\n            <span>Google+</span></span>\n        </a>'),e.tumblr&&(l+='\n        <a class="resp-sharing-button__link" target="_blank" href="https://www.tumblr.com/widgets/share/tool?posttype=link&title='+t+"&caption="+n+"&image="+s+"&content="+i+"&canonicalUrl="+i+'&shareSource=tumblr_share_button"\n          target="_blank" aria-label="">\n          <span class="resp-sharing-button resp-sharing-button--tumblr resp-sharing-button--'+c+'"><span\n              aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">\n              <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24"\n                xml:space="preserve">\n                <path d="M12,0C5.383,0,0,5.383,0,12s5.383,12,12,12s12-5.383,12-12S18.617,0,12,0z M15.492,17.616C11.401,19.544,9.5,17,9.5,14.031 V9.5h-2V8.142c0.549-0.178,1.236-0.435,1.627-0.768c0.393-0.334,0.707-0.733,0.943-1.2c0.238-0.467,0.401-0.954,0.49-1.675H12.5v3h2 v2h-2v3.719c0,2.468,1.484,2.692,2.992,1.701V17.616z" />\n              </svg>\n            </span>\n            <span>Tumblr</span></span>\n        </a>'),e.email&&(l+='\n        <a class="resp-sharing-button__link" href="mailto:?subject='+t+"&body="+n+"%0D%0A"+i+'"\n          target="_blank" aria-label="">\n          <span class="resp-sharing-button resp-sharing-button--email resp-sharing-button--'+c+'"><span\n              aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">\n              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                <path d="M12 0C5.38 0 0 5.38 0 12s5.38 12 12 12 12-5.38 12-12S18.62 0 12 0zm8 16c0 1.1-.9 2-2 2H6c-1.1 0-2-.9-2-2V8c0-1.1.9-2 2-2h12c1.1 0 2 .9 2 2v8z" />\n                <path d="M17.9 8.18c-.2-.2-.5-.24-.72-.07L12 12.38 6.82 8.1c-.22-.16-.53-.13-.7.08s-.15.53.06.7l3.62 2.97-3.57 2.23c-.23.14-.3.45-.15.7.1.14.25.22.42.22.1 0 .18-.02.27-.08l3.85-2.4 1.06.87c.1.04.2.1.32.1s.23-.06.32-.1l1.06-.9 3.86 2.4c.08.06.17.1.26.1.17 0 .33-.1.42-.25.15-.24.08-.55-.15-.7l-3.57-2.22 3.62-2.96c.2-.2.24-.5.07-.72z" /></svg>\n            </span>\n            <span>E-Mail</span></span>\n        </a>'),e.pinterest&&(l+='\n        <a class="resp-sharing-button__link" href="https://pinterest.com/pin/create/button/?url='+i+"&media="+s+"&description=="+t+"%0D%0A"+n+"&image="+s+'"\n          target="_blank" aria-label="">\n          <span class="resp-sharing-button resp-sharing-button--pinterest resp-sharing-button--'+c+'"><span\n              aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">\n              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                <path d="M12 0C5.38 0 0 5.38 0 12s5.38 12 12 12 12-5.38 12-12S18.62 0 12 0zm1.4 15.56c-1 0-1.94-.53-2.25-1.14l-.65 2.52c-.4 1.45-1.57 2.9-1.66 3-.06.1-.2.07-.22-.04-.02-.2-.32-2 .03-3.5l1.18-5s-.3-.6-.3-1.46c0-1.36.8-2.37 1.78-2.37.85 0 1.25.62 1.25 1.37 0 .85-.53 2.1-.8 3.27-.24.98.48 1.78 1.44 1.78 1.73 0 2.9-2.24 2.9-4.9 0-2-1.35-3.5-3.82-3.5-2.8 0-4.53 2.07-4.53 4.4 0 .5.1.9.25 1.23l-1.5.82c-.36-.64-.54-1.43-.54-2.28 0-2.6 2.2-5.74 6.57-5.74 3.5 0 5.82 2.54 5.82 5.27 0 3.6-2 6.3-4.96 6.3z" /></svg>\n            </span>\n            <span>Pinterest</span></span>\n        </a>'),e.linkedin&&(l+='\n        <a class="resp-sharing-button__link" href="https://www.linkedin.com/shareArticle?mini=true&url='+i+"&title="+t+"&summary="+n+"&source="+i+"&image="+s+'"\n          target="_blank" aria-label="">\n          <span class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--'+c+'"><span\n              aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">\n              <svg version="1.1" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24"\n                xml:space="preserve">\n                <path d="M12,0C5.383,0,0,5.383,0,12s5.383,12,12,12s12-5.383,12-12S18.617,0,12,0z M9.5,16.5h-2v-7h2V16.5z M8.5,7.5 c-0.553,0-1-0.448-1-1c0-0.552,0.447-1,1-1s1,0.448,1,1C9.5,7.052,9.053,7.5,8.5,7.5z M18.5,16.5h-3V13c0-0.277-0.225-0.5-0.5-0.5 c-0.276,0-0.5,0.223-0.5,0.5v3.5h-3c0,0,0.031-6.478,0-7h3v0.835c0,0,0.457-0.753,1.707-0.753c1.55,0,2.293,1.12,2.293,3.296V16.5z" />\n              </svg>\n            </span>\n            <span>LinkedIn</span></span>\n        </a>'),e.reddit&&(l+='\n        <a class="resp-sharing-button__link" href="https://reddit.com/submit/?url='+i+"&title="+t+'" target="_blank"\n            aria-label="">\n            <span class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--'+c+'"><span\n                aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                    <circle cx="9.391" cy="13.392" r=".978" />\n                    <path d="M14.057 15.814c-1.14.66-2.987.655-4.122-.004-.238-.138-.545-.058-.684.182-.13.24-.05.545.19.685.72.417 1.63.646 2.568.646.93 0 1.84-.228 2.558-.642.24-.13.32-.44.185-.68-.14-.24-.445-.32-.683-.18zM5 12.086c0 .41.23.78.568.978.27-.662.735-1.264 1.353-1.774-.2-.207-.48-.334-.79-.334-.62 0-1.13.507-1.13 1.13z" />\n                    <path d="M12 0C5.383 0 0 5.383 0 12s5.383 12 12 12 12-5.383 12-12S18.617 0 12 0zm6.673 14.055c.01.104.022.208.022.314 0 2.61-3.004 4.73-6.695 4.73s-6.695-2.126-6.695-4.74c0-.105.013-.21.022-.313C4.537 13.73 4 12.97 4 12.08c0-1.173.956-2.13 2.13-2.13.63 0 1.218.29 1.618.757 1.04-.607 2.345-.99 3.77-1.063.057-.803.308-2.33 1.388-2.95.633-.366 1.417-.323 2.322.085.302-.81 1.076-1.397 1.99-1.397 1.174 0 2.13.96 2.13 2.13 0 1.177-.956 2.133-2.13 2.133-1.065 0-1.942-.79-2.098-1.81-.734-.4-1.315-.506-1.716-.276-.6.346-.818 1.395-.88 2.087 1.407.08 2.697.46 3.728 1.065.4-.468.987-.756 1.617-.756 1.17 0 2.13.953 2.13 2.13 0 .89-.54 1.65-1.33 1.97z" />\n                    <circle cx="14.609" cy="13.391" r=".978" />\n                    <path d="M17.87 10.956c-.302 0-.583.128-.79.334.616.51 1.082 1.112 1.352 1.774.34-.197.568-.566.568-.978 0-.623-.507-1.13-1.13-1.13z" /></svg>\n            </span>\n                <span>Reddit</span></span>\n        </a>'),e.xing&&(l+='\n        <a class="resp-sharing-button__link" href="https://www.xing.com/app/user?op=share;url='+i+";title="+t+"&image="+s+'"\n            target="_blank" aria-label="">\n            <span class="resp-sharing-button resp-sharing-button--xing resp-sharing-button--'+c+'"><span\n                aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                    <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.6 0 12 0zM7.8 14.5h-3L7 11.3 5.3 8.5h3l1.8 2.8L8 14.5zm9 5h-3.4l-3-5.5L15 5.5h3.2L13.6 14l3 5.5z" /></svg>\n            </span>\n                <span>XING</span></span>\n        </a>'),e.whatsapp&&(l+='\n        <a class="resp-sharing-button__link" href="https://api.whatsapp.com/send?text='+n+"%20"+i+"&image="+s+'"\n            target="_blank" aria-label="">\n            <span class="resp-sharing-button resp-sharing-button--whatsapp resp-sharing-button--'+c+'"><span\n                aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">\n                <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24">\n                    <path d="m12 0c-6.6 0-12 5.4-12 12s5.4 12 12 12 12-5.4 12-12-5.4-12-12-12zm0 3.8c2.2 0 4.2 0.9 5.7 2.4 1.6 1.5 2.4 3.6 2.5 5.7 0 4.5-3.6 8.1-8.1 8.1-1.4 0-2.7-0.4-3.9-1l-4.4 1.1 1.2-4.2c-0.8-1.2-1.1-2.6-1.1-4 0-4.5 3.6-8.1 8.1-8.1zm0.1 1.5c-3.7 0-6.7 3-6.7 6.7 0 1.3 0.3 2.5 1 3.6l0.1 0.3-0.7 2.4 2.5-0.7 0.3 0.099c1 0.7 2.2 1 3.4 1 3.7 0 6.8-3 6.9-6.6 0-1.8-0.7-3.5-2-4.8s-3-2-4.8-2zm-3 2.9h0.4c0.2 0 0.4-0.099 0.5 0.3s0.5 1.5 0.6 1.7 0.1 0.2 0 0.3-0.1 0.2-0.2 0.3l-0.3 0.3c-0.1 0.1-0.2 0.2-0.1 0.4 0.2 0.2 0.6 0.9 1.2 1.4 0.7 0.7 1.4 0.9 1.6 1 0.2 0 0.3 0.001 0.4-0.099s0.5-0.6 0.6-0.8c0.2-0.2 0.3-0.2 0.5-0.1l1.4 0.7c0.2 0.1 0.3 0.2 0.5 0.3 0 0.1 0.1 0.5-0.099 1s-1 0.9-1.4 1c-0.3 0-0.8 0.001-1.3-0.099-0.3-0.1-0.7-0.2-1.2-0.4-2.1-0.9-3.4-3-3.5-3.1s-0.8-1.1-0.8-2.1c0-1 0.5-1.5 0.7-1.7s0.4-0.3 0.5-0.3z" /></svg>\n            </span>\n                <span>WhatsApp</span></span>\n        </a>'),e.hackernews&&(l+='\n        <a class="resp-sharing-button__link" href="https://news.ycombinator.com/submitlink?u='+i+"&t="+t+"%0D%0A"+n+"&image="+s+'"\n            target="_blank" aria-label="">\n            <span class="resp-sharing-button resp-sharing-button--hackernews resp-sharing-button--'+c+'"><span\n                aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256">\n                    <path fill-rule="evenodd" d="M128 256c70.692 0 128-57.308 128-128C256 57.308 198.692 0 128 0 57.308 0 0 57.308 0 128c0 70.692 57.308 128 128 128zm-9.06-113.686L75 60h20.08l25.85 52.093c.397.927.86 1.888 1.39 2.883.53.994.995 2.02 1.393 3.08.265.4.463.764.596 1.095.13.334.262.63.395.898.662 1.325 1.26 2.618 1.79 3.877.53 1.26.993 2.42 1.39 3.48 1.06-2.254 2.22-4.673 3.48-7.258 1.26-2.585 2.552-5.27 3.877-8.052L161.49 60h18.69l-44.34 83.308v53.087h-16.9v-54.08z" /></svg>\n            </span>\n                <span>Hacker News</span></span>\n        </a>'),e.vk&&(l+='\n        <a class="resp-sharing-button__link" href="http://vk.com/share.php?title='+t+"&url="+i+"&image="+s+'"\n            target="_blank" aria-label="">\n            <span class="resp-sharing-button resp-sharing-button--vk resp-sharing-button--'+c+'"><span\n                aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                    <path d="M12 .5C5.65.5.5 5.65.5 12c0 6.352 5.15 11.5 11.5 11.5 6.352 0 11.5-5.148 11.5-11.5C23.5 5.65 18.352.5 12 .5zm8.11 16.82h-2.603c-.244 0-.48-.094-.658-.26l-1.98-1.862c-.118-.112-.276-.175-.438-.175-.355 0-.646.287-.646.643v1c0 .36-.292.654-.654.654h-1.655c-3.935 0-7.385-6.898-8.185-9.093-.018-.052-.028-.105-.028-.16.002-.247.204-.445.452-.445h2.637c.24 0 .456.14.556.355.57 1.42 1.31 2.764 2.2 4.004.126.14.304.217.49.214.357-.006.64-.3.63-.656-.014-.894-.034-1.958-.034-2.328 0-1.493-1.106-1.313-1.106-1.313.355-.49.94-.76 1.543-.717h2.182c.537 0 .974.435.974.972v3.093c0 .896.646 1.502 1.646-.43.37-.718 1.527-2.848 1.527-2.848.114-.214.337-.347.577-.347h2.9c1.323 0 .358 1.502-.175 2.21-.392.52-1.31 1.727-1.873 2.47-.267.353-.238.845.07 1.165 0 0 1.74 1.834 2.22 2.31.685.673.685 1.545-.57 1.545z" /></svg>\n            </span>\n                <span>VK</span></span>\n        </a>'),e.telegram&&(l+='\n        <a class="resp-sharing-button__link" href="https://telegram.me/share/url?text='+t+"%0D%0A"+n+"&url="+i+"&image="+s+'"\n            target="_blank" aria-label="">\n            <span class="resp-sharing-button resp-sharing-button--telegram resp-sharing-button--'+c+'"><span\n                aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solidcircle">\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                    <path d="M12 23.5c6.35 0 11.5-5.15 11.5-11.5S18.35.5 12 .5.5 5.65.5 12 5.65 23.5 12 23.5zM2.505 11.053c-.31.118-.505.738-.505.738s.203.62.513.737l3.636 1.355 1.417 4.557a.787.787 0 0 0 1.25.375l2.115-1.72a.29.29 0 0 1 .353-.01L15.1 19.85a.786.786 0 0 0 .746.095.786.786 0 0 0 .487-.573l2.793-13.426a.787.787 0 0 0-1.054-.893l-15.568 6z"\n                        fill-rule="evenodd" /></svg>\n            </span>\n                <span>Telegram</span></span>\n        </a>'),l}},89:function(e,t,n){"use strict";var a=n(3),o=n(16),r=n(88),i=function(){var e=r({facebook:!0,twitter:!0,google:!0,tumblr:!0,email:!0,pinterest:!0,linkedin:!0,reddit:!0,xing:!0,whatsapp:!0,hackernews:!0,vk:!0,telegram:!0},a("#mainh").val()+" Mindmap",document.querySelector("meta[name=description]").getAttribute("content"),"https://mindmapper.esstudio.site",location.pathname+location.search,"https://mindmapper.esstudio.site/public/img/mindmap.png","medium");a("#sharing-modal .modal-body").html(e)};"true"===o.ispublic&&(window.addEventListener("load",function(e){window.requestIdleCallback?window.requestIdleCallback(i):i()}),a("#sharing-modal-opener").show())}});