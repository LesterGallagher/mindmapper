!function(t){function n(n){for(var i,s,r=n[0],c=n[1],l=n[2],p=0,u=[];p<r.length;p++)s=r[p],a[s]&&u.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);for(d&&d(n);u.length;)u.shift()();return o.push.apply(o,l||[]),e()}function e(){for(var t,n=0;n<o.length;n++){for(var e=o[n],i=!0,r=1;r<e.length;r++){var c=e[r];0!==a[c]&&(i=!1)}i&&(o.splice(n--,1),t=s(s.s=e[0]))}return t}var i={},a={1:0},o=[];function s(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=i,s.d=function(t,n,e){s.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(n,"a",n),n},s.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},s.p="/bundle/";var r=window.webpackJsonp=window.webpackJsonp||[],c=r.push.bind(r);r.push=n,r=r.slice();for(var l=0;l<r.length;l++)n(r[l]);var d=c;o.push([41,0]),e()}({39:function(t,n,e){"use strict";var i=e(1);i(function(){if(i(document).on("mousedown touchstart","a, button",function(){i(".no-outline").removeClass("no-outline"),i(this).addClass("no-outline")}),i(document).on("keydown",function(t){9===(t.keyCode||t.which)&&i(".no-outline").removeClass("no-outline")}),i(".side-navigation").length){var t=i(".close"),n=i(".side-navigation-affix"),e=i("a.navigation-btn"),a=i(".side-navigation-large"),o=i(".navigation-section");i(".side-navigation-small").length&&(a=i(".side-navigation-small"));var s=o.offset().top-48,r=i("body").height()-o.offset().top-o.height();n.affix({offset:{top:s,bottom:r}}),n.width(a.parent().width()),e.on("click",function(){a.css("display","block"),o.css("display","none"),e.css("display","none"),i("body").css("overflow","hidden")}),t.on("click",function(){a.css("display",""),o.css("display",""),e.css("display","inline-block"),i("body").css("overflow","")})}!function(){var t=i(".alert-stack");0!==t.length&&t.affix({offset:{top:t.offset().top}})}(),function(){var t=i(".back-to-top"),n=2*i(window).height();0===t.length||i(document).height()<n||(t.affix({offset:{top:n}}),t.on("click",function(){return i("html, body").animate({scrollTop:0},{duration:750,easing:"swing"}),!1}))}(),i("[data-scroll='smooth'] a[href*='#']:not([href='#'])").on("click",function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var t=i(this.hash);if((t=t.length?t:i("[name="+this.hash.slice(1)+"]")).length)return i("html, body").animate({scrollTop:t.offset().top},1500),!1}}),i(".checkbox-indeterminate").prop("indeterminate",!0),i(".rating-btn").on("mouseenter",function(){i(this),i(this).prevAll(".rating-btn").addClass("active"),i(this).addClass("active"),i(this).nextAll(".rating-btn").removeClass("active")}),i(".rating-stars-input").on("mouseleave",function(){i(this).find(".rating-btn").removeClass("active")}),i(".entity-list-expandable .entity-list-item").click(function(){if(!1===i(this).hasClass("active")){var t=i(this).parent();i(".entity-list-item",t).removeClass("active"),i(this).addClass("active")}})})},40:function(t,n,e){},41:function(t,n,e){"use strict";!function(t,n,e){var i=t.querySelectorAll("html")[0];i.className=i.className.replace(/(^|\s)no-js(\s|$)/,"$1js$2")}(document,window),e(38);var i=e(37);window.jQuery=i,e(36),e(40);var a=e(19),o=(e(18),e(20).saveAs),s=e(34);e(39);var r=document.getElementById.bind(document),c=r("new-room"),l=r("name"),d=r("public");function p(){var t=i("#saved-mindviews").empty(),n=localStorage.getItem("mindmaper-mindmaps-storage-v2"),e=JSON.parse(n);for(var r in e)!function(n){var r=e[n],c=i('<div class="entity-list-item">                <div class="item-icon">                    <img alt="icon" height="20" src="public/img/mindmap-white.svg">                </div>                <div class="item-content-secondary">                    <div class="content-text-primary">'+s().format(new Date(r.static.timestamp))+'</div>                    <div class="content-text-secondary">'+new Date(r.static.timestamp).toDateString()+'</div>                </div>                <div class="item-content-primary">                    <div class="content-text-primary">'+(r.static.name||"Unnamed")+'</div>                    <div class="content-text-secondary">Available '+("api_bin"===r.type?"online":"")+' </div>                </div>                <div class="item-content-expanded">                    <button class="btn btn-primary btn-open">Open</button>                    <button class="btn btn-default btn-download">Download</button>                    <button class="btn btn-default btn-">Delete</button>                </div>            </div>');t.append(c),c.find(".btn-open").on("click",function(){"api_bin"===r.type?window.location.href=window.location.origin+"/mindmapper.html?ispublic=true&id="+r.static.id+"&room="+r.room:window.location.href=window.location.origin+"/mindmapper.html?ispublic=false&id="+r.static.id}),c.find(".btn-download").on("click",function(){"api_bin"===r.type?i.get("https://api.myjson.com/bins/"+r.room,function(t,n,e){o(new Blob([JSON.stringify(t)]),(r.static.name||"Unnamed")+"-mindmap.onmm")}):a.getMindmaps().then(function(t){var n=t[r.static.id];o(new Blob([JSON.stringify(n)]),n.static.name+"-mindmap.onmm")})})}(r);0===t.children().length&&i('<div class="container-fluid padded-top"><h2>No saved mindmaps.</h2><p>There\'s nothing here...</p></div>').appendTo(t)}c.addEventListener("submit",function(t){if(t.preventDefault(),d.checked){var n={static:{name:l.value,id:Math.random().toString(36)},elems:[{key:"default key",id:0,type:0,leftpos:"80px",toppos:"80px",connected_elems:[],"font-size":"25.6px",content:"new title"}],lines:[]};return i.ajax({url:"https://api.myjson.com/bins",type:"POST",data:JSON.stringify(n),contentType:"application/json; charset=utf-8",dataType:"json",error:function(t,n,e){alert("Status: "+n+"\nError: "+e)},success:function(t,n,e){var i=t.uri.split("/"),a=i[i.length-1];window.location.href=window.location.origin+"/mindmapper.html?ispublic=true&room="+a}}),!1}window.location.href=window.location.origin+"/mindmapper.html?ispublic=false&name="+l.value}),i("#master-items > *").each(function(t){i(this).on("click",function(){i("#detail-items [detail-item-index]").hide(),i("#detail-items [detail-item-index="+t+"]").show()})}),i("#detail-items [detail-item-index]").hide(),i("#detail-items [detail-item-index=0]").show(),i("[data-iframe-load]").each(function(t){i(this).attr("src",i(this).attr("data-iframe-load"))}),p();var u=function(){var t=document.createElement("div");return("draggable"in t||"ondragstart"in t&&"ondrop"in t)&&"FormData"in window&&"FileReader"in window}(),m=i(".box");if(u&&m.addClass("has-advanced-upload"),u){var f=!1;m.on("drag dragstart dragend dragover dragenter dragleave drop",function(t){t.preventDefault(),t.stopPropagation()}).on("dragover dragenter",function(){m.addClass("is-dragover")}).on("dragleave dragend drop",function(){m.removeClass("is-dragover")}).on("drop",function(t){f=t.originalEvent.dataTransfer.files})}m.on("submit",function(t){if(m.hasClass("is-uploading"))return!1;if(m.addClass("is-uploading").removeClass("is-error"),u){t.preventDefault();var n=new FormData(m.get(0));f&&i.each(f,function(t,e){n.append(h.attr("name"),e)}),i.ajax({url:m.attr("action"),type:m.attr("method"),data:n,dataType:"json",cache:!1,contentType:!1,processData:!1,complete:function(){m.removeClass("is-uploading")},success:function(t){m.addClass(1==t.success?"is-success":"is-error"),t.success||$errorMsg.text(t.error)},error:function(){}})}});var h=m.find('input[type="file"]'),v=m.find("label"),g=function(t){v.text(t.length>1?(h.attr("data-multiple-caption")||"").replace("{count}",t.length):t[0].name),function(t){var n=new FileReader;n.onload=function(t){var n=t.target.result,e=JSON.parse(n);"api_bin"===e.type?(a.putMindmap({type:"api_bin",room:e.room,static:{id:e.static.id,name:e.static.name,timestamp:e.static.timestamp}}),i.ajax({type:"PUT",url:"https://api.myjson.com/bins/"+e.room,data:n,async:!1,contentType:"application/json; charset=utf-8",dataType:"json",error:function(t,n,e){alert("unable to save mind map")},success:function(t,n,e){p(),alert("Stored online")}})):a.putMindmap(e).then(function(){p(),alert("Stored in app storage")})},n.readAsText(t[0])}(t)};m.on("drop",function(t){f=t.originalEvent.dataTransfer.files,g(f)}),h.on("change",function(t){g(t.target.files)})}});