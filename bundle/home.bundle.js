!function(t){function e(e){for(var i,r,c=e[0],s=e[1],d=e[2],u=0,p=[];u<c.length;u++)r=c[u],a[r]&&p.push(a[r][0]),a[r]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);for(l&&l(e);p.length;)p.shift()();return o.push.apply(o,d||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},a={1:0},o=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/bundle/";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var l=s;o.push([87,0]),n()}({84:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n(0);function a(t={}){var e=Object(i.document_createElement)("div");Object(i.setAttribute)(e,"class","entity-list-item");var n=Object(i.document_createElement)("div");Object(i.setAttribute)(n,"class","item-icon");var a=Object(i.document_createElement)("img");Object(i.setAttribute)(a,"alt","icon"),Object(i.setAttribute)(a,"height","20"),Object(i.setAttribute)(a,"src","public/img/mindmap-white.svg"),Object(i.appendChild)(n,a),Object(i.appendChild)(e,n);var o=Object(i.document_createElement)("div");Object(i.setAttribute)(o,"class","item-content-secondary");var r=Object(i.document_createElement)("div");Object(i.setAttribute)(r,"class","content-text-primary"),Object(i.appendChild)(r,Object(i.document_createTextNode)(""+t.timeago)),Object(i.appendChild)(o,r);var c=Object(i.document_createElement)("div");Object(i.setAttribute)(c,"class","content-text-secondary"),Object(i.appendChild)(c,Object(i.document_createTextNode)(""+t.date)),Object(i.appendChild)(o,c),Object(i.appendChild)(e,o);var s=Object(i.document_createElement)("div");Object(i.setAttribute)(s,"class","item-content-primary");var d=Object(i.document_createElement)("div");Object(i.setAttribute)(d,"class","content-text-primary"),Object(i.appendChild)(d,Object(i.document_createTextNode)(""+t.name)),Object(i.appendChild)(s,d);var l=Object(i.document_createElement)("div");Object(i.setAttribute)(l,"class","content-text-secondary"),Object(i.appendChild)(l,Object(i.document_createTextNode)(""+t.available)),Object(i.appendChild)(s,l),Object(i.appendChild)(e,s);var u=Object(i.document_createElement)("div");Object(i.setAttribute)(u,"class","item-content-expanded");var p=Object(i.document_createElement)("button");Object(i.setAttribute)(p,"class","btn btn-primary btn-open"),Object(i.appendChild)(p,Object(i.document_createTextNode)("Open")),Object(i.appendChild)(u,p);var m=Object(i.document_createElement)("button");Object(i.setAttribute)(m,"class","btn btn-default btn-download"),Object(i.appendChild)(m,Object(i.document_createTextNode)("Download")),Object(i.appendChild)(u,m);var f=Object(i.document_createElement)("button");return Object(i.setAttribute)(f,"class","btn btn-default btn-delete"),Object(i.appendChild)(f,Object(i.document_createTextNode)("Delete")),Object(i.appendChild)(u,f),Object(i.appendChild)(e,u),e}},85:function(t,e,n){"use strict";var i=n(3);i(function(){if(i(document).on("mousedown touchstart","a, button",function(){i(".no-outline").removeClass("no-outline"),i(this).addClass("no-outline")}),i(document).on("keydown",function(t){9===(t.keyCode||t.which)&&i(".no-outline").removeClass("no-outline")}),i(".side-navigation").length){var t=i(".close"),e=i(".side-navigation-affix"),n=i("a.navigation-btn"),a=i(".side-navigation-large"),o=i(".navigation-section");i(".side-navigation-small").length&&(a=i(".side-navigation-small"));var r=o.offset().top-48,c=i("body").height()-o.offset().top-o.height();e.affix({offset:{top:r,bottom:c}}),e.width(a.parent().width()),n.on("click",function(){a.css("display","block"),o.css("display","none"),n.css("display","none"),i("body").css("overflow","hidden")}),t.on("click",function(){a.css("display",""),o.css("display",""),n.css("display","inline-block"),i("body").css("overflow","")})}!function(){var t=i(".alert-stack");0!==t.length&&t.affix({offset:{top:t.offset().top}})}(),function(){var t=i(".back-to-top"),e=2*i(window).height();0===t.length||i(document).height()<e||(t.affix({offset:{top:e}}),t.on("click",function(){return i("html, body").animate({scrollTop:0},{duration:750,easing:"swing"}),!1}))}(),i("[data-scroll='smooth'] a[href*='#']:not([href='#'])").on("click",function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var t=i(this.hash);if((t=t.length?t:i("[name="+this.hash.slice(1)+"]")).length)return i("html, body").animate({scrollTop:t.offset().top},1500),!1}}),i(".checkbox-indeterminate").prop("indeterminate",!0),i(".rating-btn").on("mouseenter",function(){i(this),i(this).prevAll(".rating-btn").addClass("active"),i(this).addClass("active"),i(this).nextAll(".rating-btn").removeClass("active")}),i(".rating-stars-input").on("mouseleave",function(){i(this).find(".rating-btn").removeClass("active")}),i(".entity-list-expandable .entity-list-item").click(function(){if(!1===i(this).hasClass("active")){var t=i(this).parent();i(".entity-list-item",t).removeClass("active"),i(this).addClass("active")}})})},86:function(t,e,n){},87:function(t,e,n){"use strict";var i=n(26);!function(t,e,n){var i=t.querySelectorAll("html")[0];i.className=i.className.replace(/(^|\s)no-js(\s|$)/,"$1js$2")}(document,window),n(83);var a=n(3);window.jQuery=a,n(82),n(86);var o=n(33),r=(n(65),n(34).saveAs),c=n(80);n(85);var s=n(84).default,d=document.getElementById.bind(document),l=d("new-room"),u=d("mindmap-name"),p=d("public"),m=d("connect-room"),f=d("connect-room-url");function b(){var t=a("#saved-mindviews").empty(),e=localStorage.getItem("mindviewer-mindviews-storage-v2"),n=JSON.parse(e);for(var i in n)!function(e){var i=n[e];console.log(s);var d=a(s({timeago:c().format(new Date(i.static.timestamp)),date:new Date(i.static.timestamp).toDateString(),name:i.static.name||"Unnamed",available:"api_bin"===i.type?"online":""}));t.append(d),d.find(".btn-open").on("click",function(){"api_bin"===i.type?window.location.href=window.location.origin+"/mindmapper.html?ispublic=true&id="+i.static.id+"&room="+i.room:window.location.href=window.location.origin+"/mindmapper.html?ispublic=false&id="+i.static.id}),d.find(".btn-download").on("click",function(){"api_bin"===i.type?a.get("https://api.myjson.com/bins/"+i.room,function(t,e,n){r(new Blob([JSON.stringify(t)]),(i.static.name||"Unnamed")+"-mindview.onmm")}):o.getMindviews().then(function(t){var e=t[i.static.id];r(new Blob([JSON.stringify(e)]),e.static.name+"-mindview.onmm")})}),d.find(".btn-delete").on("click",function(){confirm("Are you sure?")&&(o.deleteMindview(i),d.remove())})}(i);0===t.children().length&&a('<div class="container-fluid padded-top"><h2>No saved mindviews.</h2><p>There\'s nothing here...</p></div>').appendTo(t)}l.addEventListener("submit",function(t){if(t.preventDefault(),p.checked){var e={static:{name:u.value,id:Math.random().toString(36)},elems:[{key:"default key",id:0,type:0,leftpos:"80px",toppos:"80px",connected_elems:[],"font-size":"25.6px",content:"new title"}],lines:[]};return a.ajax({url:"https://api.myjson.com/bins",type:"POST",data:JSON.stringify(e),contentType:"application/json; charset=utf-8",dataType:"json",error:function(t,e,n){alert("Status: "+e+"\nError: "+n)},success:function(t,e,n){var i=t.uri.split("/"),a=i[i.length-1];window.location.href=window.location.origin+"/mindmapper.html?ispublic=true&room="+a}}),!1}window.location.href=window.location.origin+"/mindmapper.html?ispublic=false&name="+u.value}),a("#master-items > *").each(function(t){a(this).on("click",function(){a("#detail-items [detail-item-index]").hide(),a("#detail-items [detail-item-index="+t+"]").show()})}),a("#detail-items [detail-item-index]").hide(),a("#detail-items [detail-item-index=0]").show(),a("[data-iframe-load]").each(function(t){a(this).attr("src",a(this).attr("data-iframe-load"))}),m.onsubmit=function(t){t.preventDefault();var e=f.value,n=void 0;-1!==e.indexOf("mindmapper.html")?n=(0,i.decodeQuery)(e).room:n=e;return console.log("test",n),window.location.href=window.location.origin+"/mindmapper.html?ispublic=true&room="+n,!1},b();var h=function(){var t=document.createElement("div");return("draggable"in t||"ondragstart"in t&&"ondrop"in t)&&"FormData"in window&&"FileReader"in window}(),v=a(".box");if(h&&v.addClass("has-advanced-upload"),h){var g=!1;v.on("drag dragstart dragend dragover dragenter dragleave drop",function(t){t.preventDefault(),t.stopPropagation()}).on("dragover dragenter",function(){v.addClass("is-dragover")}).on("dragleave dragend drop",function(){v.removeClass("is-dragover")}).on("drop",function(t){g=t.originalEvent.dataTransfer.files})}v.on("submit",function(t){if(v.hasClass("is-uploading"))return!1;if(v.addClass("is-uploading").removeClass("is-error"),h){t.preventDefault();var e=new FormData(v.get(0));g&&a.each(g,function(t,n){e.append(j.attr("name"),n)}),a.ajax({url:v.attr("action"),type:v.attr("method"),data:e,dataType:"json",cache:!1,contentType:!1,processData:!1,complete:function(){v.removeClass("is-uploading")},success:function(t){v.addClass(1==t.success?"is-success":"is-error"),t.success||alert(t.error)},error:function(){alert("error")}})}});var j=v.find('input[type="file"]'),w=v.find("label"),O=function(t){w.text(t.length>1?(j.attr("data-multiple-caption")||"").replace("{count}",t.length):t[0].name),function(t){var e=new FileReader;e.onload=function(t){var e=t.target.result,n=JSON.parse(e);"api_bin"===n.type?(o.putMindview({type:"api_bin",room:n.room,static:{id:n.static.id,name:n.static.name,timestamp:n.static.timestamp}}),a.ajax({type:"PUT",url:"https://api.myjson.com/bins/"+n.room,data:e,async:!1,contentType:"application/json; charset=utf-8",dataType:"json",error:function(t,e,n){alert("unable to save mind map")},success:function(t,e,n){b(),alert("Stored online")}})):o.putMindview(n).then(function(){b(),alert("Stored in app storage")})},e.readAsText(t[0])}(t)};v.on("drop",function(t){g=t.originalEvent.dataTransfer.files,O(g)}),j.on("change",function(t){O(t.target.files)})}});